import { canSSRAuth } from "@/utils/canSSRAuth";
import styles from './styles.module.scss'

import { useEffect, useState } from 'react';
import { setupAPIClient } from "@/services/api";
import Router, { useRouter } from "next/router";

export default function CodigoPage() {
    const [loading, setLoading] = useState(true);
    const [vinculado, setVinculado] = useState(false);
    const [who, setWho] = useState("");

    const { query } = useRouter()

    async function vincularUsuario() {
        try {
            const apiClient = setupAPIClient();

            const response = await apiClient.post(`/user/invite/${query.codigo}`);
            const data = await response.data;
            if (data.inviteAccept) {
                setVinculado(true);
                setWho(data.inviteAccept[0].with)
            }
        } catch (error) {
            console.error('Erro ao vincular usuário:', error);
        } finally {
            setLoading(false);
        }
    }

    useEffect(() => {
        vincularUsuario();
    }, []) 
    
    function handleBack() {
        Router.push('/perfil')
    }
    return (
        <div className={styles.container} style={{ background: vinculado ? 'linear-gradient(108deg, #F4FAF3 0%, #D8D8D8 100%)' : 'linear-gradient(108deg, #FFD8D8 0%, #D8D8D8 100%) ' }}>

            {loading ? (
                <p className={styles.loading}>Carregando...</p>
            ) : vinculado ? (
                <>
                    <h1 className={styles.sucessTitle}>Uhuu, Vinculo aceito!</h1>

                    <div className={styles.content}>

                        <div>
                            <svg width="372" height="288" viewBox="0 0 372 288" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_367_14)">
                                    <path d="M148.856 59.7246H147.499V21.8948C147.499 19.0196 146.942 16.1725 145.861 13.5161C144.78 10.8597 143.195 8.44598 141.197 6.41286C139.199 4.37974 136.827 2.76697 134.216 1.66665C131.606 0.566332 128.808 2.43615e-06 125.982 0H47.2181C41.5114 -1.10699e-05 36.0385 2.30674 32.0033 6.41281C27.9681 10.5189 25.7012 16.0879 25.7012 21.8948V229.432C25.7012 232.307 26.2577 235.154 27.339 237.81C28.4204 240.467 30.0053 242.881 32.0033 244.914C34.0013 246.947 36.3733 248.56 38.9839 249.66C41.5944 250.76 44.3924 251.327 47.218 251.327H125.982C131.688 251.327 137.161 249.02 141.197 244.914C145.232 240.808 147.499 235.239 147.499 229.432V86.6524H148.856V59.7246Z" fill="#3F3D56" />
                                    <path d="M126.85 5.69629H116.569C117.042 6.87583 117.222 8.15559 117.095 9.42282C116.967 10.6901 116.535 11.9059 115.837 12.9632C115.138 14.0205 114.195 14.8868 113.09 15.4859C111.985 16.0849 110.753 16.3983 109.501 16.3984H64.3781C63.1262 16.3983 61.8936 16.0849 60.7888 15.4859C59.6839 14.8868 58.7408 14.0205 58.0425 12.9632C57.3442 11.9059 56.9122 10.6901 56.7844 9.42283C56.6567 8.15559 56.8372 6.87583 57.31 5.69629H47.7072C45.5971 5.69629 43.5076 6.11921 41.5581 6.94092C39.6085 7.76262 37.8371 8.96701 36.345 10.4853C34.8529 12.0036 33.6693 13.8061 32.8618 15.7899C32.0543 17.7737 31.6387 19.8999 31.6387 22.0471V229.279C31.6387 231.427 32.0543 233.553 32.8618 235.537C33.6693 237.52 34.8529 239.323 36.345 240.841C37.8371 242.36 39.6085 243.564 41.558 244.386C43.5076 245.207 45.5971 245.63 47.7072 245.63H126.85C128.961 245.63 131.05 245.207 133 244.386C134.949 243.564 136.72 242.36 138.213 240.841C139.705 239.323 140.888 237.52 141.696 235.537C142.503 233.553 142.919 231.427 142.919 229.279V22.0471C142.919 19.8999 142.503 17.7737 141.696 15.7899C140.888 13.8061 139.705 12.0036 138.213 10.4853C136.72 8.96701 134.949 7.76262 133 6.94092C131.05 6.11921 128.961 5.69629 126.85 5.69629Z" fill="white" />
                                    <path d="M174.101 251.362H0.455762C0.334886 251.362 0.218961 251.313 0.133489 251.227C0.0480173 251.14 0 251.022 0 250.899C0 250.776 0.0480173 250.658 0.133489 250.571C0.218961 250.484 0.334886 250.435 0.455762 250.435H174.101C174.222 250.435 174.338 250.484 174.423 250.571C174.509 250.658 174.557 250.776 174.557 250.899C174.557 251.022 174.509 251.14 174.423 251.227C174.338 251.313 174.222 251.362 174.101 251.362Z" fill="#CBCBCB" />
                                    <path d="M87.2784 160.315C108.534 160.315 125.766 142.781 125.766 121.152C125.766 99.5224 108.534 81.9883 87.2784 81.9883C66.0224 81.9883 48.791 99.5224 48.791 121.152C48.791 142.781 66.0224 160.315 87.2784 160.315Z" fill="#599E52" />
                                    <path d="M83.4648 136.092C82.5989 136.093 81.7561 135.808 81.0634 135.279L81.0204 135.247L71.9753 128.206C71.5564 127.879 71.2049 127.472 70.9407 127.007C70.6766 126.542 70.5051 126.028 70.436 125.496C70.3669 124.963 70.4015 124.422 70.5379 123.903C70.6743 123.384 70.9098 122.898 71.2309 122.471C71.5521 122.045 71.9526 121.687 72.4096 121.419C72.8667 121.15 73.3712 120.975 73.8945 120.905C74.4179 120.835 74.9497 120.87 75.4596 121.009C75.9695 121.148 76.4476 121.387 76.8665 121.714L82.7251 126.286L96.5695 107.907C96.8905 107.481 97.2909 107.123 97.7477 106.855C98.2045 106.586 98.7089 106.411 99.232 106.341C99.7551 106.271 100.287 106.306 100.796 106.445C101.306 106.584 101.784 106.823 102.203 107.15L102.204 107.151L102.118 107.272L102.206 107.151C103.051 107.811 103.604 108.786 103.743 109.861C103.882 110.936 103.597 112.023 102.949 112.884L86.6655 134.492C86.2887 134.99 85.8043 135.392 85.2499 135.669C84.6954 135.946 84.0858 136.089 83.4683 136.087L83.4648 136.092Z" fill="white" />
                                    <path d="M316.411 255.212C316.879 254.441 317.43 253.727 318.054 253.081C318.311 252.809 318.583 252.553 318.863 252.304C320.564 250.763 322.639 249.711 324.873 249.256C327.106 248.801 329.419 248.959 331.573 249.715C333.726 250.471 335.643 251.797 337.126 253.557C338.609 255.317 339.605 257.447 340.011 259.728C341.89 252.654 336.997 245.687 332.078 240.335C327.156 234.985 321.53 229.116 321.558 221.785C321.572 217.706 323.533 214.067 326.494 211.369C326.585 211.287 326.677 211.206 326.77 211.127C330.348 208.005 334.952 206.373 339.662 206.555C348.413 207.032 356.053 213.016 361.359 220.114C369.899 231.536 373.642 247.568 367.663 260.569C362.404 272.004 351.187 278.794 339.74 284.253C338.142 285.016 336.547 285.755 334.955 286.472C334.944 286.475 334.933 286.482 334.922 286.485C334.845 286.519 334.769 286.554 334.697 286.589C334.368 286.736 334.04 286.884 333.714 287.03L333.865 287.13L334.335 287.44C334.172 287.34 334.011 287.242 333.848 287.141C333.799 287.111 333.748 287.082 333.699 287.052C328.077 283.619 322.377 279.988 318.493 274.628C314.464 269.064 312.845 261.094 316.411 255.212Z" fill="#F1F1F1" />
                                    <path d="M353.921 242.289C355.166 245.171 355.991 248.222 356.371 251.347C356.669 254.133 356.557 256.948 356.038 259.7C354.921 265.356 352.486 270.656 348.938 275.154C346.261 278.569 343.17 281.627 339.74 284.253C338.142 285.016 336.546 285.755 334.954 286.472C334.944 286.474 334.932 286.482 334.922 286.485C334.845 286.519 334.768 286.554 334.696 286.589C334.368 286.736 334.039 286.884 333.713 287.03L333.864 287.13L334.335 287.44C334.172 287.339 334.01 287.242 333.847 287.141C333.799 287.111 333.747 287.082 333.699 287.052C334.936 282.648 335.118 278.006 334.229 273.516C333.341 269.026 331.407 264.818 328.591 261.245C325.76 257.716 322.149 254.919 318.054 253.081C318.311 252.809 318.582 252.553 318.862 252.304C320.44 253.041 321.95 253.919 323.376 254.927C328.475 258.513 332.303 263.674 334.295 269.647C336.073 275.065 336.296 280.887 334.935 286.43C335.218 286.242 335.501 286.049 335.776 285.858C341.014 282.264 345.841 277.947 349.477 272.654C352.613 268.18 354.62 262.991 355.321 257.542C356.017 251.59 354.554 245.737 351.943 240.427C349.059 234.745 345.425 229.491 341.143 224.812C336.841 220.003 331.978 215.747 326.66 212.14C326.541 212.058 326.456 211.932 326.425 211.789C326.394 211.645 326.419 211.495 326.493 211.369C326.55 211.254 326.65 211.167 326.769 211.127C326.83 211.111 326.894 211.109 326.955 211.122C327.017 211.135 327.075 211.161 327.125 211.2C327.781 211.646 328.432 212.095 329.075 212.558C334.43 216.417 339.293 220.937 343.552 226.015C347.668 230.91 351.414 236.348 353.921 242.289Z" fill="white" />
                                    <path d="M239.294 18.1845C243.808 18.1845 247.467 14.4608 247.467 9.8673C247.467 5.27381 243.808 1.55005 239.294 1.55005C234.78 1.55005 231.12 5.27381 231.12 9.8673C231.12 14.4608 234.78 18.1845 239.294 18.1845Z" fill="#F1F1F1" />
                                    <path d="M340.929 129.489C343.681 129.489 345.912 127.219 345.912 124.418C345.912 121.617 343.681 119.347 340.929 119.347C338.176 119.347 335.945 121.617 335.945 124.418C335.945 127.219 338.176 129.489 340.929 129.489Z" fill="#F1F1F1" />
                                    <path d="M195.085 143.402C197.837 143.402 200.068 141.132 200.068 138.331C200.068 135.531 197.837 133.26 195.085 133.26C192.333 133.26 190.102 135.531 190.102 138.331C190.102 141.132 192.333 143.402 195.085 143.402Z" fill="#F1F1F1" />
                                    <path d="M197.899 288H371.544C371.665 288 371.781 287.951 371.867 287.864C371.952 287.777 372 287.659 372 287.536C372 287.413 371.952 287.295 371.867 287.208C371.781 287.121 371.665 287.073 371.544 287.073H197.899C197.778 287.073 197.662 287.121 197.577 287.208C197.491 287.295 197.443 287.413 197.443 287.536C197.443 287.659 197.491 287.777 197.577 287.864C197.662 287.951 197.778 288 197.899 288Z" fill="#CBCBCB" />
                                    <path d="M352.381 44.8161C352.609 43.1689 352.236 41.4938 351.331 40.1082C350.426 38.7226 349.053 37.7228 347.473 37.2982C345.892 36.8737 344.213 37.054 342.755 37.8048C341.296 38.5556 340.158 39.8249 339.558 41.3721L325.467 57.8101L329.601 69.5605L343.772 50.3534C344.697 50.6548 345.675 50.7462 346.639 50.6212C347.602 50.4962 348.526 50.1579 349.347 49.6299C350.168 49.102 350.865 48.3974 351.389 47.5657C351.913 46.734 352.252 45.7954 352.381 44.8161Z" fill="#FFB7B7" />
                                    <path d="M293.972 108.776L340.747 57.9803L334.438 47.7737L275.771 98.2613L293.972 108.776Z" fill="#3F3D56" />
                                    <path d="M283.533 77.913C292.595 77.913 299.941 70.4381 299.941 61.2174C299.941 51.9966 292.595 44.5217 283.533 44.5217C274.472 44.5217 267.126 51.9966 267.126 61.2174C267.126 70.4381 274.472 77.913 283.533 77.913Z" fill="#2F2E41" />
                                    <path d="M284.852 51.7858C288.382 48.1426 292.655 45.3313 297.368 43.5496C300.394 42.409 303.687 41.7043 306.85 42.3521C310.014 42.9998 313.005 45.2266 313.887 48.3847C314.609 50.9671 313.864 53.7476 312.744 56.1785C311.624 58.6095 310.129 60.8637 309.223 63.3854C308.299 65.9584 308.022 68.7255 308.415 71.4355C308.809 74.1455 309.861 76.7126 311.477 78.9038C313.092 81.0949 315.22 82.8408 317.668 83.9828C320.115 85.1248 322.803 85.6268 325.489 85.4433C322.381 85.8674 319.516 87.3536 316.478 88.1447C313.441 88.9358 309.855 88.8821 307.597 86.6675C305.209 84.3243 305.161 80.5146 305.276 77.1405C305.448 72.1249 305.62 67.1093 305.791 62.0936C305.879 59.5357 305.954 56.8958 305.047 54.5084C304.141 52.121 301.986 50.0304 299.471 50.0522C297.565 50.0686 295.878 51.2437 294.349 52.4025C292.82 53.5614 291.202 54.7978 289.303 54.9701C287.405 55.1425 285.237 53.7127 285.379 51.7783L284.852 51.7858Z" fill="#2F2E41" />
                                    <path d="M221.216 173.321C219.641 173.766 217.96 173.608 216.492 172.876C215.024 172.145 213.87 170.89 213.25 169.351C212.63 167.812 212.586 166.095 213.127 164.525C213.668 162.955 214.756 161.642 216.185 160.834L230.36 144.47L242.348 147.106L225.486 163.912C225.901 164.806 226.118 165.781 226.122 166.769C226.126 167.757 225.917 168.734 225.51 169.631C225.103 170.528 224.507 171.323 223.766 171.961C223.024 172.598 222.154 173.062 221.216 173.321Z" fill="#FFB7B7" />
                                    <path d="M267.85 114.739L232.522 159.863L221.753 154.832L263.277 89.0491L267.85 114.739Z" fill="#3F3D56" />
                                    <path d="M239.662 250.996L231.242 250.862L232.255 280.063H239.661L239.662 250.996Z" fill="#FFB7B7" />
                                    <path d="M241.549 277.603L226.964 277.603H226.964C224.499 277.603 222.135 278.599 220.391 280.373C218.648 282.146 217.669 284.552 217.669 287.06V287.368L241.549 287.369L241.549 277.603Z" fill="#2F2E41" />
                                    <path d="M295.409 243.251L286.211 249.26L304.609 271.783L310.841 267.712L295.409 243.251Z" fill="#FFB7B7" />
                                    <path d="M311.125 264.603L298.851 272.62L298.851 272.621C296.777 273.976 295.316 276.114 294.791 278.565C294.266 281.016 294.72 283.578 296.051 285.689L296.214 285.948L316.309 272.82L311.125 264.603Z" fill="#2F2E41" />
                                    <path d="M298.685 154.082C298.685 154.082 278.249 85.0146 271.682 84.0813C265.114 83.1479 254.532 101.803 254.532 101.803C240.812 119.616 226.665 177.314 226.665 177.314C226.665 177.314 250.249 178.816 267.489 188.15C284.729 197.483 305.075 187.677 305.075 187.677L298.685 154.082Z" fill="#3F3D56" />
                                    <path opacity="0.1" d="M298.685 154.082C298.685 154.082 278.249 85.0145 271.682 84.0812C265.114 83.1478 257.22 101.992 257.22 101.992C250.383 130.746 226.665 177.314 226.665 177.314C226.665 177.314 250.249 178.816 267.489 188.149C284.729 197.483 305.075 187.677 305.075 187.677L298.685 154.082Z" fill="black" />
                                    <path d="M281.919 133.418V168.124L285.933 218.398L305.986 256.427L296.415 263.384L269.07 227.21L258.254 191.291L241.268 270.804L228.507 269.876L237.37 159.634L254.188 128.603L281.919 133.418Z" fill="#2F2E41" />
                                    <path d="M261.314 99.8492C254.934 106.342 260.859 113.298 260.859 113.298L253.566 129.994L282.279 137.878L292.314 92.2535L285.477 84.8332C271.804 84.3694 271.797 84.0811 271.797 84.0811C269.401 86.4666 261.314 99.8492 261.314 99.8492Z" fill="#599E52" />
                                    <path d="M293.47 87.5267C292.166 86.5471 290.684 85.8407 289.109 85.4481C287.535 85.0556 285.9 84.9848 284.299 85.2398C282.697 85.4949 281.161 86.0707 279.78 86.934C278.399 87.7973 277.2 88.9308 276.252 90.269C269.034 100.496 262.36 117.01 271.556 137.607C286.322 170.678 299.172 187.608 304.396 187.606C304.624 187.608 304.851 187.571 305.067 187.498C308.283 186.388 312.932 180.852 313.774 175.973C314.075 174.226 314.003 171.794 311.951 170.123C306.055 165.325 295.472 150.385 292.17 130.72C290.345 119.854 293.884 109.956 297.173 103.566C298.563 100.922 298.969 97.8575 298.318 94.9334C297.667 92.0093 296.002 89.4219 293.629 87.6456L293.47 87.5267Z" fill="#3F3D56" />
                                    <path d="M284.376 76.2728C290.229 73.0171 292.38 65.5497 289.181 59.594C285.981 53.6382 278.643 51.4494 272.79 54.7051C266.937 57.9608 264.786 65.4282 267.986 71.3839C271.185 77.3397 278.524 79.5285 284.376 76.2728Z" fill="#FFB7B7" />
                                    <path d="M261.599 64.5599H279.039L279.218 62.012L280.112 64.5599H282.797L283.151 59.5101L284.924 64.5599H290.12V64.3097C290.116 60.7941 288.742 57.4237 286.299 54.9378C283.856 52.4519 280.544 51.0535 277.089 51.0496H274.63C271.175 51.0535 267.863 52.4518 265.42 54.9377C262.977 57.4236 261.603 60.7941 261.599 64.3097V64.5599Z" fill="#2F2E41" />
                                    <path d="M287.484 73.718L294.927 71.2606V52.8696H280.869L281.217 53.2232C286.059 58.1442 291.445 75.6033 287.484 73.718Z" fill="#2F2E41" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_367_14">
                                        <rect width="372" height="288" fill="white" />
                                    </clipPath>
                                </defs>
                            </svg>

                        </div>
                        <div className={styles.contentSuccess}>
                            <div className={styles.successMessage}>
                                <p>
                                    Agora você pode compartilhar
                                    contas com {who}
                                </p>
                            </div>
                            <div className={styles.successMessage}>
                                <p>Acesse sua conta e compartilhe seus sonhos,
                                    objetivos e compromissos com {who}.
                                </p>
                            </div>
                        </div>

                    </div>
                    <button className={styles.buttonSuccess} onClick={() => { handleBack() }} type="button">Acessar minha conta</button>
                </>
            ) : (
                <>
                    <h1>Poxa :(</h1>
                    <div className={styles.content}>
                        <div>
                            <svg width="292" height="288" viewBox="0 0 292 288" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_367_87)">
                                    <path d="M245.746 68.2609H244.212V25.0241C244.212 18.3873 241.646 12.0223 237.079 7.3294C232.513 2.63646 226.319 3.26427e-09 219.86 3.26427e-09H130.716C127.519 -5.30734e-05 124.352 0.647163 121.397 1.90469C118.443 3.16223 115.758 5.00544 113.497 7.32911C111.236 9.65278 109.442 12.4114 108.218 15.4474C106.994 18.4835 106.364 21.7375 106.364 25.0237V262.224C106.364 268.861 108.93 275.226 113.497 279.919C118.064 284.612 124.258 287.248 130.716 287.248H219.859C226.317 287.248 232.511 284.612 237.078 279.919C241.645 275.226 244.211 268.861 244.211 262.224V99.0376H245.745L245.746 68.2609Z" fill="#3F3D56" />
                                    <path d="M239.217 23.348V263.899C239.216 268.931 237.271 273.757 233.809 277.316C230.347 280.874 225.651 282.874 220.754 282.876H129.782C124.883 282.877 120.185 280.878 116.72 277.319C113.255 273.76 111.308 268.933 111.307 263.899V23.348C111.308 18.3142 113.255 13.4872 116.72 9.92861C120.184 6.36999 124.882 4.37118 129.781 4.37183H140.816C140.274 5.74115 140.068 7.22628 140.216 8.69669C140.363 10.1671 140.86 11.5778 141.662 12.8047C142.465 14.0316 143.548 15.0373 144.817 15.7332C146.086 16.4292 147.502 16.7941 148.94 16.796H200.805C202.244 16.7941 203.66 16.4292 204.929 15.7332C206.198 15.0373 207.281 14.0316 208.084 12.8047C208.886 11.5778 209.383 10.1671 209.53 8.69669C209.678 7.22628 209.472 5.74115 208.93 4.37183H220.751C225.647 4.37268 230.343 6.37173 233.806 9.92947C237.269 13.4872 239.215 18.3124 239.217 23.3443V23.348Z" fill="white" />
                                    <path d="M175.246 119.915C196.221 119.915 213.226 102.441 213.226 80.886C213.226 59.3311 196.221 41.8574 175.246 41.8574C154.27 41.8574 137.266 59.3311 137.266 80.886C137.266 102.441 154.27 119.915 175.246 119.915Z" fill="#599E52" />
                                    <path d="M216.667 161.909H135.827C135.43 161.908 135.05 161.746 134.769 161.457C134.488 161.169 134.33 160.778 134.33 160.37V139.764C134.331 139.356 134.488 138.965 134.769 138.677C135.05 138.389 135.43 138.226 135.827 138.226H216.667C217.064 138.226 217.444 138.389 217.725 138.677C218.005 138.965 218.163 139.356 218.164 139.764V160.371C218.163 160.778 218.005 161.169 217.725 161.458C217.444 161.746 217.064 161.908 216.667 161.909V161.909ZM135.827 138.841C135.589 138.841 135.36 138.939 135.192 139.112C135.024 139.285 134.929 139.519 134.929 139.764V160.371C134.929 160.615 135.024 160.85 135.192 161.023C135.36 161.196 135.589 161.294 135.827 161.294H216.667C216.905 161.294 217.133 161.196 217.302 161.023C217.47 160.85 217.565 160.615 217.565 160.371V139.764C217.565 139.519 217.47 139.285 217.302 139.112C217.133 138.939 216.905 138.841 216.667 138.841H135.827Z" fill="#E6E6E6" />
                                    <path d="M160.827 145.647C160.549 145.647 160.283 145.76 160.086 145.962C159.89 146.164 159.779 146.438 159.779 146.724C159.779 147.009 159.89 147.283 160.086 147.485C160.283 147.687 160.549 147.801 160.827 147.801H210.229C210.507 147.811 210.777 147.709 210.981 147.514C211.185 147.32 211.306 147.051 211.317 146.765C211.327 146.48 211.227 146.202 211.038 145.992C210.849 145.783 210.587 145.659 210.309 145.648C210.294 145.647 210.279 145.647 210.263 145.647L160.827 145.647Z" fill="#E6E6E6" />
                                    <path d="M160.827 152.107C160.549 152.107 160.283 152.22 160.086 152.422C159.89 152.624 159.779 152.898 159.779 153.184C159.779 153.469 159.89 153.743 160.086 153.945C160.283 154.147 160.549 154.261 160.827 154.261H210.229C210.507 154.272 210.777 154.169 210.981 153.975C211.185 153.781 211.306 153.511 211.317 153.226C211.327 152.94 211.227 152.662 211.038 152.453C210.849 152.243 210.587 152.119 210.309 152.108C210.294 152.108 210.279 152.107 210.263 152.107L160.827 152.107Z" fill="#E6E6E6" />
                                    <path d="M216.667 196.255H135.827C135.43 196.254 135.05 196.092 134.769 195.804C134.488 195.515 134.33 195.124 134.33 194.716V174.11C134.331 173.702 134.488 173.312 134.769 173.023C135.05 172.735 135.43 172.573 135.827 172.572H216.667C217.064 172.573 217.444 172.735 217.725 173.023C218.005 173.312 218.163 173.702 218.164 174.11V194.717C218.163 195.125 218.005 195.515 217.725 195.804C217.444 196.092 217.064 196.254 216.667 196.255ZM135.827 173.187C135.589 173.187 135.36 173.285 135.192 173.458C135.024 173.631 134.929 173.866 134.929 174.11V194.717C134.929 194.962 135.024 195.196 135.192 195.369C135.36 195.542 135.589 195.64 135.827 195.64H216.667C216.905 195.64 217.133 195.542 217.302 195.369C217.47 195.196 217.565 194.962 217.565 194.717V174.11C217.565 173.866 217.47 173.631 217.302 173.458C217.133 173.285 216.905 173.187 216.667 173.187H135.827Z" fill="#E6E6E6" />
                                    <path d="M160.827 180.104C160.549 180.104 160.283 180.218 160.086 180.42C159.89 180.622 159.779 180.896 159.779 181.181C159.779 181.467 159.89 181.741 160.086 181.943C160.283 182.145 160.549 182.258 160.827 182.258H210.229C210.503 182.257 210.765 182.145 210.96 181.947C211.155 181.749 211.267 181.48 211.271 181.199C211.276 180.917 211.173 180.645 210.984 180.441C210.796 180.236 210.537 180.116 210.263 180.105H160.827V180.104Z" fill="#E6E6E6" />
                                    <path d="M160.827 186.566C160.549 186.566 160.283 186.68 160.086 186.882C159.89 187.084 159.779 187.358 159.779 187.643C159.779 187.929 159.89 188.203 160.086 188.405C160.283 188.607 160.549 188.72 160.827 188.72H210.229C210.503 188.719 210.765 188.607 210.96 188.409C211.155 188.211 211.267 187.942 211.271 187.661C211.276 187.379 211.173 187.107 210.984 186.903C210.796 186.698 210.537 186.578 210.263 186.567H160.827V186.566Z" fill="#E6E6E6" />
                                    <path d="M216.667 230.713H135.827C135.43 230.713 135.05 230.551 134.769 230.262C134.488 229.974 134.33 229.583 134.33 229.175V208.569C134.331 208.161 134.488 207.77 134.769 207.482C135.05 207.194 135.43 207.031 135.827 207.031H216.667C217.064 207.031 217.444 207.194 217.725 207.482C218.005 207.77 218.163 208.161 218.164 208.569V229.176C218.163 229.583 218.005 229.974 217.725 230.263C217.444 230.551 217.064 230.713 216.667 230.714V230.713ZM135.827 207.646C135.589 207.646 135.36 207.743 135.192 207.917C135.024 208.09 134.929 208.324 134.929 208.569V229.176C134.929 229.42 135.024 229.655 135.192 229.828C135.36 230.001 135.589 230.099 135.827 230.099H216.667C216.905 230.099 217.133 230.001 217.302 229.828C217.47 229.655 217.565 229.42 217.565 229.176V208.569C217.565 208.324 217.47 208.09 217.302 207.917C217.133 207.743 216.905 207.646 216.667 207.646H135.827Z" fill="#E6E6E6" />
                                    <path d="M160.827 214.564C160.549 214.564 160.283 214.678 160.086 214.88C159.89 215.082 159.779 215.356 159.779 215.641C159.779 215.927 159.89 216.201 160.086 216.403C160.283 216.605 160.549 216.718 160.827 216.718H210.229C210.366 216.724 210.504 216.701 210.633 216.652C210.762 216.603 210.88 216.528 210.981 216.432C211.082 216.336 211.164 216.22 211.221 216.092C211.279 215.963 211.311 215.825 211.317 215.683C211.322 215.542 211.3 215.401 211.252 215.268C211.204 215.135 211.132 215.014 211.038 214.91C210.945 214.806 210.832 214.722 210.707 214.663C210.582 214.604 210.447 214.571 210.309 214.566C210.294 214.565 210.279 214.565 210.263 214.565L160.827 214.564Z" fill="#E6E6E6" />
                                    <path d="M160.827 221.026C160.549 221.026 160.283 221.139 160.086 221.341C159.89 221.543 159.779 221.817 159.779 222.103C159.779 222.388 159.89 222.662 160.086 222.864C160.283 223.066 160.549 223.18 160.827 223.18H210.229C210.366 223.185 210.504 223.163 210.633 223.114C210.762 223.064 210.88 222.99 210.981 222.894C211.082 222.798 211.164 222.682 211.221 222.553C211.279 222.425 211.311 222.286 211.317 222.145C211.322 222.003 211.3 221.862 211.252 221.73C211.204 221.597 211.132 221.475 211.038 221.371C210.945 221.268 210.832 221.184 210.707 221.125C210.582 221.066 210.447 221.032 210.309 221.027C210.294 221.026 210.279 221.026 210.263 221.026H160.827L160.827 221.026Z" fill="#E6E6E6" />
                                    <path d="M291.238 288H0.76223C0.340995 288 0 287.811 0 287.578C0 287.344 0.341388 287.155 0.76223 287.155H291.238C291.659 287.155 292 287.344 292 287.578C292 287.811 291.659 288 291.238 288Z" fill="#E6E6E6" />
                                    <path d="M278.936 271.524C277.695 271.972 276.362 272.085 275.067 271.85C273.771 271.616 272.556 271.042 271.539 270.185C268.948 267.951 268.136 264.27 267.475 260.861L265.521 250.779L269.613 253.675C272.556 255.757 275.565 257.906 277.603 260.923C279.642 263.939 280.531 268.057 278.893 271.32" fill="#E6E6E6" />
                                    <path d="M278.304 284.432C278.819 280.575 279.349 276.67 278.987 272.772C278.666 269.31 277.639 265.93 275.546 263.157C274.436 261.689 273.084 260.43 271.553 259.439C271.154 259.18 270.786 259.83 271.184 260.088C273.833 261.809 275.883 264.35 277.037 267.345C278.311 270.676 278.515 274.307 278.295 277.844C278.162 279.984 277.881 282.11 277.597 284.232C277.575 284.328 277.589 284.429 277.637 284.515C277.684 284.601 277.761 284.665 277.853 284.695C277.947 284.721 278.046 284.707 278.131 284.658C278.215 284.609 278.277 284.528 278.303 284.432H278.304Z" fill="#F2F2F2" />
                                    <path d="M274.596 278.244C274.064 279.075 273.332 279.752 272.472 280.208C271.611 280.665 270.651 280.886 269.683 280.85C267.196 280.729 265.123 278.945 263.256 277.253L257.736 272.243L261.39 272.064C264.017 271.934 266.712 271.814 269.217 272.646C271.721 273.479 274.027 275.483 274.485 278.143" fill="#E6E6E6" />
                                    <path d="M279.759 286.649C277.281 282.14 274.403 277.129 269.264 275.527C267.835 275.083 266.336 274.924 264.849 275.058C264.38 275.099 264.498 275.843 264.967 275.801C267.46 275.588 269.948 276.265 272.012 277.716C273.999 279.106 275.545 281.037 276.854 283.086C277.656 284.339 278.374 285.649 279.092 286.955C279.321 287.372 279.992 287.071 279.759 286.649Z" fill="#F2F2F2" />
                                    <path d="M145.912 156.402C149.385 156.402 152.2 153.509 152.2 149.941C152.2 146.372 149.385 143.48 145.912 143.48C142.44 143.48 139.625 146.372 139.625 149.941C139.625 153.509 142.44 156.402 145.912 156.402Z" fill="#599E52" />
                                    <path d="M142.902 148.734C142.83 148.734 142.771 149.216 142.771 149.811C142.771 150.405 142.83 150.888 142.902 150.888H149.085C149.157 150.897 149.217 150.423 149.218 149.829C149.258 149.459 149.214 149.084 149.089 148.734H142.902V148.734Z" fill="#E6E6E6" />
                                    <path d="M145.912 190.874C149.385 190.874 152.2 187.982 152.2 184.413C152.2 180.845 149.385 177.952 145.912 177.952C142.44 177.952 139.625 180.845 139.625 184.413C139.625 187.982 142.44 190.874 145.912 190.874Z" fill="#599E52" />
                                    <path d="M142.902 183.207C142.83 183.207 142.771 183.689 142.771 184.283C142.771 184.878 142.83 185.36 142.902 185.36H149.085C149.157 185.37 149.217 184.896 149.218 184.301C149.258 183.931 149.214 183.557 149.089 183.207L142.902 183.207Z" fill="#E6E6E6" />
                                    <path d="M145.912 225.333C149.385 225.333 152.2 222.441 152.2 218.872C152.2 215.304 149.385 212.411 145.912 212.411C142.44 212.411 139.625 215.304 139.625 218.872C139.625 222.441 142.44 225.333 145.912 225.333Z" fill="#599E52" />
                                    <path d="M142.902 217.665C142.83 217.665 142.771 218.147 142.771 218.742C142.771 219.337 142.83 219.819 142.902 219.819H149.085C149.157 219.829 149.217 219.355 149.218 218.76C149.258 218.39 149.214 218.015 149.089 217.666L142.902 217.665Z" fill="#E6E6E6" />
                                    <path d="M167.041 70.1688L164.816 72.4551L183.45 91.6031L185.675 89.3167L167.041 70.1688Z" fill="white" />
                                    <path d="M185.674 72.455L183.449 70.1687L164.816 89.3167L167.041 91.603L185.674 72.455Z" fill="white" />
                                    <path d="M35.5003 184.356C36.0454 184.157 36.5415 183.839 36.9538 183.422C37.3661 183.006 37.6844 182.501 37.8865 181.944C38.0885 181.388 38.1693 180.792 38.1231 180.2C38.077 179.608 37.905 179.033 37.6194 178.516L46.8878 167.659L39.6527 166.633L31.9605 177.101C31.1478 177.652 30.5598 178.49 30.3081 179.456C30.0564 180.422 30.1583 181.45 30.5947 182.344C31.031 183.238 31.7714 183.937 32.6755 184.308C33.5797 184.678 34.5848 184.696 35.5003 184.356Z" fill="#9F616A" />
                                    <path d="M46.678 280.58L40.214 280.58L37.1387 254.958L46.6792 254.958L46.678 280.58Z" fill="#9F616A" />
                                    <path d="M48.3258 287.019L27.4824 287.018V286.748C27.4826 284.537 28.3374 282.416 29.8588 280.853C31.3802 279.289 33.4436 278.411 35.5952 278.411H35.5957L48.3262 278.411L48.3258 287.019Z" fill="#2F2E41" />
                                    <path d="M80.5158 275.021L74.3424 276.991L64.0117 253.459L73.1231 250.552L80.5158 275.021Z" fill="#9F616A" />
                                    <path d="M83.9486 280.669L64.0426 287.019L63.9644 286.761C63.3265 284.649 63.5309 282.364 64.5328 280.407C65.5346 278.45 67.2517 276.983 69.3065 276.327L69.307 276.327L81.4649 272.448L83.9486 280.669Z" fill="#2F2E41" />
                                    <path d="M41.7279 162.453L32.1543 173.72L39.6493 174.413L41.7279 162.453Z" fill="#E6E6E6" />
                                    <path d="M37.9866 176.976C37.9866 176.976 34.6612 178.684 34.2454 186.373C33.8297 194.062 35.4926 214.14 35.4926 214.14C35.4926 214.14 33.8301 223.11 35.4926 231.226C37.1551 239.341 33.8301 268.813 35.9083 268.813C37.9866 268.813 48.794 270.095 49.2097 268.813C49.6254 267.532 50.0411 248.31 50.0411 248.31C50.0411 248.31 53.3666 238.486 50.0411 232.507C50.0411 232.507 61.652 253.341 69.1619 269.242C70.8055 272.722 83.2947 268.815 81.2165 264.97C79.1382 261.126 74.1503 243.613 74.1503 243.613C74.1503 243.613 70.4091 230.798 63.7586 225.245L67.0841 197.908C67.0841 197.908 74.1506 179.54 69.9945 176.977C65.8384 174.414 37.9866 176.976 37.9866 176.976Z" fill="#2F2E41" />
                                    <path d="M50.4568 107.35C56.4255 107.35 61.2642 102.378 61.2642 96.2444C61.2642 90.1109 56.4255 85.1387 50.4568 85.1387C44.488 85.1387 39.6494 90.1109 39.6494 96.2444C39.6494 102.378 44.488 107.35 50.4568 107.35Z" fill="#A0616A" />
                                    <path d="M62.5113 108.205L49.0758 116.32C49.0758 116.32 43.9314 119.297 42.0096 124.436C39.9613 129.913 41.1518 137.623 42.0096 139.386C43.6722 142.803 41.3123 151.346 41.3123 151.346L39.2341 170.995C39.2341 170.995 31.7521 178.256 37.5715 179.111C43.3909 179.965 53.7826 178.684 60.0177 179.111C66.2529 179.538 73.3191 180.392 71.2408 176.12C69.1626 171.847 66.6686 168.858 69.1626 160.317C71.1142 153.632 71.0296 128.637 70.9006 118.081C70.8829 116.632 70.5045 115.211 69.8016 113.954C69.0986 112.697 68.0944 111.646 66.8845 110.9L62.5113 108.205Z" fill="#E5E5E5" />
                                    <path opacity="0.1" d="M56.4852 121.66L57.732 147.716L45.6472 172.865L43.5977 172.063L56.0679 148.57L56.4852 121.66Z" fill="black" />
                                    <path opacity="0.1" d="M70.2015 153.269V150.278L56.0703 174.199L70.2015 153.269Z" fill="black" />
                                    <path d="M42.7858 85.9563L41.0006 85.2223C41.0006 85.2223 44.737 80.9959 49.9338 81.3633L48.4719 79.7095C48.4719 79.7095 52.0451 78.2395 55.2938 82.0981C57.0016 84.1266 58.9772 86.5112 60.2102 89.1969H62.1237L61.3252 91.004L64.1201 92.811L61.2513 92.4877C61.523 94.0477 61.43 95.6517 60.9799 97.1675L61.0586 98.5959C61.0586 98.5959 57.7316 93.3057 57.7316 92.5717V94.4095C57.7316 94.4095 55.9448 92.7556 55.9448 91.6531L54.9701 92.9395L54.4828 90.9187L48.473 92.9395L49.4469 91.2849L45.7104 91.8361L47.1724 89.8153C47.1724 89.8153 42.9494 92.2039 42.787 94.2256C42.6245 96.2473 40.5133 98.8194 40.5133 98.8194L39.5386 96.9816C39.5386 96.9816 38.0771 88.7127 42.7858 85.9563Z" fill="#2F2E41" />
                                    <path d="M49.7784 185.564C50.2806 185.27 50.7138 184.866 51.0476 184.381C51.3813 183.895 51.6075 183.341 51.7102 182.756C51.8128 182.171 51.7895 181.571 51.6418 180.996C51.4941 180.422 51.2256 179.888 50.8552 179.431L58.101 167.056L50.8036 167.366L45.0417 179.071C44.337 179.761 43.9031 180.692 43.8223 181.689C43.7415 182.686 44.0194 183.679 44.6032 184.479C45.1871 185.28 46.0364 185.832 46.9902 186.032C47.9441 186.232 48.9361 186.066 49.7784 185.564Z" fill="#9F616A" />
                                    <path d="M66.2529 113.758L69.3702 113.118C69.3702 113.118 78.7227 120.166 75.813 134.261C72.9033 148.357 60.0177 169.715 60.0177 169.715C60.0177 169.715 57.1072 173.559 56.2765 174.413C55.4459 175.267 53.7826 174.413 54.614 175.695C55.4455 176.976 53.3668 177.83 53.3668 177.83C53.3668 177.83 44.222 177.83 45.0534 174.413C45.8849 170.996 60.0177 146.647 60.0177 146.647L57.9395 124.008C57.9395 124.008 56.2762 112.904 66.2529 113.758Z" fill="#E5E5E5" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_367_87">
                                        <rect width="292" height="288" fill="white" />
                                    </clipPath>
                                </defs>
                            </svg>

                        </div>
                        <div className={styles.errorMessage}>
                            <p>
                                Falha ao criar vinculo, verifique o código do vinculo e tente novamente mais tarde.
                            </p>
                        </div>
                    </div>
                    <button className={styles.buttonError} onClick={() => { handleBack() }} type="button">Acessar minha conta</button>
                </>
            )}
        </div>
    );
}


export const getServerSideProps = canSSRAuth(async (ctx) => {

    return {
        props: {}
    }
})
